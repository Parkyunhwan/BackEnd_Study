## 데이터베이스 정규화란?

데이터베이스의 잘못된 설계로 발생할 수 있는 데이터 중복과 이상(Anomaly)현상을 해결하기 위한 방법.

이상현상의 종류에는 삽입이상, 갱신이상, 삭제이상이 있다.


### 삽입이상

학생 정보는 넣고 싶은데 해당 학생이 어떠한 수업도 신청하지 않았다면 추가될 수 없는 문제.

STUDENT_ID와 COURSE_ID가 기본키이므로 COURSE_ID는 NULL이 될수 없으므로 학생은 삽입될 수 없다..

학생데이터가 추가되려면 "미수강"과 같은 **불필요한 데이터가 함께 추가되어야만 하므로 이런 문제를 "삽입 이상"이라고 한다.**

### 갱신이상

학생이 개명을 하면 (학생 ID, 과목 ID)로 구분되는 개명학생의 튜플을 모두 갱신해줘야만 한다.

하지만 이렇게 하지 않고 하나의 튜플만 갱신하게 되어 생기는 문제를 **"갱신 이상"**이라고 한다.

- > 전과를 해서 학부가 변경되는 경우에도 **모든 레코드를 변경하지 않으면 "갱신 이상"이 발생한다.**

### 삭제이상

수강 취소를 위해 수강정보만 삭제하려고 한다.

하지만 수강정보와 학생정보가 한 튜플에 같이 들어있다면 두 가지 정보가 함께 삭제되게 된다.

이렇게 하나의 튜플을 삭제하면 삭제를 **원하지 않는 데이터도 함께 삭제되는 현상을 "삭제 이상"이라고 한다.**

### 1NF (1차 정규화)

> 각 로우마다 컬럼의 값이 "원자 값"으로 존재하는 것

한 컬럼에 여러 개의 값이 동시에 존재한다면 새로운 튜플을 만들어 컬럼 값을 나눠서 원자값을 만들어 줄 수 있다.

### 2NF (2차 정규화)

> 테이블의 모든 컬럼이 완전 함수적 종속을 만족하는 것.

테이블의 **기본 키의 일부로 결정할 수 있는 컬럼(부분 함수적 종속)**이 없어야 한다.

부분 종속성을 가지는 컬럼을 다른 테이블로 쪼개서 정규화를 수행한다.

### 3NF (3차 정규화)

> 기본키를 제외한 속성들 간 "이행적 함수 종속"이 없는 것.

기본키 이외의 컬럼이 다른 컬럼을 결정하면 안된다.

서로 종속성을 가지고 있는 컬럼을 다른 테이블로 쪼개서 정규화를 수행한다.

## JVM이란?

자바 가상머신으로서 소프트웨어로 구현한 물리적 머신이라고 볼수 있다.

- **JVM의 역할**
    - 자바 애플리케이션을 클래스 로더를 통해 읽어들이고 자바 API와 함께 실행하는 역할
- **JVM의 특징**
    - JAVA와 OS사이에서 **중개자** **역할** 수행 (OS 종속적이지 않음)
    - Garbage Collection을 통해 메모리 관리를 해준다.
- **JVM 구성**
    - Class Loader
        - 생성한 인스턴스가 Runtime시점에 메모리에 로드하게 함
    - Runtime Data Areas
        - JVM이 프로그램을 수행하기 위해 별도로 할당받은 메모리 공간
            - PC Register, Java Virtual Machine Stack, Native Method Stack, Method Area, Heap
    - Execution Engine
        - Runtime Data Areas에 로드된 바이트 코드가 Execution Engine에 의해서 실행됨

### 자바프로그램의 실행 과정

1. 프로그램 실행 시 JVM이 OS로 부터 프로그램에 필요한 메모리를 할당받는다.
2. 자바 소스코드를 자바 컴파일러가 바이트코드로 변환시킨다.
3. **클래스 로더**를 통해 바이트코드로 변환된 클래스 파일들을 로딩한다.
4. 로딩된 클래스 파일이 을 통해 해석된다.

    **Execution engine**

5. 해석된 바이트코드가 에 배치되어 프로그램의 동작이 이뤄진다.

    **Runtime Data Areas**

### Interpreter

Execution Engine이 바이트 코드를 명령어 단위로 읽어서 수행한다. 한 줄씩 수행하기 때문에 느리다는 단점이 있다.

### JIT(Just In Time)

인터프리터 방식으로 프로그램을 수행하다가 일정한 기준을 넘어가면 바이트 코드 전체를 컴파일하여 네이티브 코드로 변환시킨다. 이 후 인터프리터 방식을 사용하지 않고 네이티브 코드를 바로 실행한다. JIT를 사용하는 JVM은 해당 메서드가 얼마나 자주 사용되는지 체크하고 일정기준을 넘어서면 컴파일을 수행하게 된다.

### JDK

Java Development Kit의 약자로 자바 개발 시 필요한 툴킷을 제공하는 도구 모음이다.
JDK 안에는 실행환경인 JRE가 포함되어있다.

### JRE

자바 프로그램 실행 환경을 구성해주는 도구. JAVA로 개발할 필요는 없고 실행만 필요할 때 JRE가 필요하다.

# PCB

프로세스 제어 블록은 제어가 필요한 프로세의스 정보를 담고 있는 운영체제 커널의 자료구조이다.

운영체제는 프로세스 스케줄링을 위해 필요한 모든 정보를 PCB에 담아둔다.

프로세스는 CPU 사용시간이 끝나면 자신의 PCB에 수행정보를 기록하고 다시 CPU를 점유하게 될때 PCB를 참조해 하던 작업을 계속해서 진행할 수 있다.

- PCB 정보
    - PID
    - 상태 : 준비 / 대기 / 실행 등의 상태
    - 포인터 : 다음 실행될 프로세스 포인터
    - Register save area : 레지스터 관련 정보 (현재 작업 상태와 스택 등)
    - Priority : 스케줄링 및 프로세스 우선순위
    - 메모리 할당 자원 정보
    - Account : CPU 사용시간
    - 입출력 상태 정보

# Context Switching

이전의 프로세스 상태를 PCB에 보관하고 또 다른 프로세스 정보를 PCB에서 읽어 레지스터에 적재하는 과정

# 웹서버와 WAS

### 웹서버

- HTTP 프로토콜을 기반으로 클라이언트의 요청을 서비스하는 기능을 제공
- 정적인 컨텐츠 제공 (WAS 거치지 않고 바로 제공)
- 동적인 컨텐츠 제공을 위한 요청 전달

### WAS

- 동적인 컨텐츠 제공을 위해 만들어진 Application Server (DB 조회 또는 복잡한 로직 처리)
- "웹 컨테이너" "서블릿 컨테이너"라고 불림
    - 컨테이너란 JSP, Servlet을 실행시킬 수 있는 소프트웨어를 말함. (JSP, Servlet 구동환경)

- WAS 역할
    - 웹서버 + 웹 컨테이너
    - 분산 트랜잭션, 보안, 쓰레드 처리 등의 기능이 있는 곳에서 DB 서버와 함께 수행됨.

DB 접속 기능, 트랜잭션 관리 기능, 비즈니스 로직 처리 가능

웹서버는 정적 컨텐츠에 대해서 빠르게 응답할 수 있다.

하지만 사용자의 모든 요청을 예상하고 결과값을 미리 만들어놓고 응답할 수 없다. (자원 부족, 비효율)

**따라서 우리는 WAS를 통해 요청에 맞는 로직을 그때마다 실행해서 DB에서 값을 가져오고 결과를 만들어서 요청에 응답해야한다.**

이렇게 하면 우리는 서버의 자원을 효율적으로 사용할 수 있다.


